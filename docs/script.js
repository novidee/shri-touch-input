!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i=function(t){return t},o=function(t){return t.replace(/[a-z]([A-Z])/g,function(t){return"".concat(t[0],"_").concat(t[1].toLowerCase())}).toUpperCase()},a=function(t,e,n){var r=function(t){return"function"==typeof t}(e);return function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,o=arguments.length>1?arguments[1]:void 0;return t===o.type&&r?e(i,o.payload):i}};e.createStore=function(t,e){var n=e,r=[],i=function(e){n=t(n,e),r.forEach(function(t){return t(n)})};return i({}),{getState:function(){return n},subscribe:function(t){return r.push(t),function(){r=r.filter(function(e){return e!==t})}},dispatch:i}},e.createActions=function(t){var e={};!function(t){return"[object Object]"===Object.prototype.toString.call(t)}(t)?t.forEach(function(t){(function(t){return"string"==typeof t})(t)&&(e[t]=i)}):e=t;var n={};return Object.assign(n,function(t,e){return Object.keys(t).reduce(function(n,r){return Object.assign(n,e(r,t[r]))},{})}(e,function(t,e){return function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,function(t,e){var n=o(t),r=function(){return{type:n,payload:e.apply(void 0,arguments)}};return r.toString=function(){return n},r}(t,e))})),n},e.createReducer=function(t,e){var n=function(t){var e=[],n=t.initialState,r=null,i=null;return Object.keys(t).forEach(function(u){r=o(u),i=t[u],e.push(a(r,i,n))}),{reducers:e,initialState:n}}(t),i=n.reducers,u=n.initialState,c=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r="function"!=typeof e[e.length-1]&&e.pop(),i=e;if(void 0===r)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(t,e){for(var n=arguments.length,o=Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];var u=void 0===t,c=void 0===e;return u&&c&&r?r:i.reduce(function(t,n){return n.apply(void 0,[t,e].concat(o))},u&&!c&&r?r:t)}}.apply(void 0,r(i));return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u||e,n=arguments.length>1?arguments[1]:void 0;return c(t,n)}},e.combineReducers=function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return Object.keys(t).reduce(function(r,i){return r[i]=t[i](e[i],n),r},{})}}},function(t,e,n){
/*!
 * PEP v0.4.3 | https://github.com/jquery/PEP
 * Copyright jQuery Foundation and other contributors | http://jquery.org/license
 */
t.exports=function(){"use strict";var t=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],e=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0];function n(n,r){r=r||Object.create(null);var i=document.createEvent("Event");i.initEvent(n,r.bubbles||!1,r.cancelable||!1);for(var o,a=2;a<t.length;a++)o=t[a],i[o]=r[o]||e[a];i.buttons=r.buttons||0;var u=0;return u=r.pressure&&i.buttons?r.pressure:i.buttons?.5:0,i.x=i.clientX,i.y=i.clientY,i.pointerId=r.pointerId||0,i.width=r.width||0,i.height=r.height||0,i.pressure=u,i.tiltX=r.tiltX||0,i.tiltY=r.tiltY||0,i.twist=r.twist||0,i.tangentialPressure=r.tangentialPressure||0,i.pointerType=r.pointerType||"",i.hwTimestamp=r.hwTimestamp||0,i.isPrimary=r.isPrimary||!1,i}var r=window.Map&&window.Map.prototype.forEach?Map:i;function i(){this.array=[],this.size=0}i.prototype={set:function(t,e){if(void 0===e)return this.delete(t);this.has(t)||this.size++,this.array[t]=e},has:function(t){return void 0!==this.array[t]},delete:function(t){this.has(t)&&(delete this.array[t],this.size--)},get:function(t){return this.array[t]},clear:function(){this.array.length=0,this.size=0},forEach:function(t,e){return this.array.forEach(function(n,r){t.call(e,n,r,this)},this)}};var o=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],a=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],u={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},c="undefined"!=typeof SVGElementInstance,s={pointermap:new r,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(t,e){var n=e,r=n.events;r&&(r.forEach(function(t){n[t]&&(this.eventMap[t]=n[t].bind(n))},this),this.eventSources[t]=n,this.eventSourceList.push(n))},register:function(t){for(var e,n=this.eventSourceList.length,r=0;r<n&&(e=this.eventSourceList[r]);r++)e.register.call(e,t)},unregister:function(t){for(var e,n=this.eventSourceList.length,r=0;r<n&&(e=this.eventSourceList[r]);r++)e.unregister.call(e,t)},contains:function(t,e){try{return t.contains(e)}catch(t){return!1}},down:function(t){t.bubbles=!0,this.fireEvent("pointerdown",t)},move:function(t){t.bubbles=!0,this.fireEvent("pointermove",t)},up:function(t){t.bubbles=!0,this.fireEvent("pointerup",t)},enter:function(t){t.bubbles=!1,this.fireEvent("pointerenter",t)},leave:function(t){t.bubbles=!1,this.fireEvent("pointerleave",t)},over:function(t){t.bubbles=!0,this.fireEvent("pointerover",t)},out:function(t){t.bubbles=!0,this.fireEvent("pointerout",t)},cancel:function(t){t.bubbles=!0,this.fireEvent("pointercancel",t)},leaveOut:function(t){this.out(t),this.propagate(t,this.leave,!1)},enterOver:function(t){this.over(t),this.propagate(t,this.enter,!0)},eventHandler:function(t){if(!t._handledByPE){var e=t.type,n=this.eventMap&&this.eventMap[e];n&&n(t),t._handledByPE=!0}},listen:function(t,e){e.forEach(function(e){this.addEvent(t,e)},this)},unlisten:function(t,e){e.forEach(function(e){this.removeEvent(t,e)},this)},addEvent:function(t,e){t.addEventListener(e,this.boundHandler)},removeEvent:function(t,e){t.removeEventListener(e,this.boundHandler)},makeEvent:function(t,e){this.captureInfo[e.pointerId]&&(e.relatedTarget=null);var r=new n(t,e);return e.preventDefault&&(r.preventDefault=e.preventDefault),r._target=r._target||e.target,r},fireEvent:function(t,e){var n=this.makeEvent(t,e);return this.dispatchEvent(n)},cloneEvent:function(t){for(var e,n=Object.create(null),r=0;r<o.length;r++)n[e=o[r]]=t[e]||a[r],!c||"target"!==e&&"relatedTarget"!==e||n[e]instanceof SVGElementInstance&&(n[e]=n[e].correspondingUseElement);return t.preventDefault&&(n.preventDefault=function(){t.preventDefault()}),n},getTarget:function(t){var e=this.captureInfo[t.pointerId];return e?t._target!==e&&t.type in u?void 0:e:t._target},propagate:function(t,e,n){for(var r=t.target,i=[];r!==document&&!r.contains(t.relatedTarget);)if(i.push(r),!(r=r.parentNode))return;n&&i.reverse(),i.forEach(function(n){t.target=n,e.call(this,t)},this)},setCapture:function(t,e,r){this.captureInfo[t]&&this.releaseCapture(t,r),this.captureInfo[t]=e,this.implicitRelease=this.releaseCapture.bind(this,t,r),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease);var i=new n("gotpointercapture");i.pointerId=t,i._target=e,r||this.asyncDispatchEvent(i)},releaseCapture:function(t,e){var r=this.captureInfo[t];if(r){this.captureInfo[t]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease);var i=new n("lostpointercapture");i.pointerId=t,i._target=r,e||this.asyncDispatchEvent(i)}},dispatchEvent:function(t){var e=this.getTarget(t);if(e)return e.dispatchEvent(t)},asyncDispatchEvent:function(t){requestAnimationFrame(this.dispatchEvent.bind(this,t))}};s.boundHandler=s.eventHandler.bind(s);var l={shadow:function(t){if(t)return t.shadowRoot||t.webkitShadowRoot},canTarget:function(t){return t&&Boolean(t.elementFromPoint)},targetingShadow:function(t){var e=this.shadow(t);if(this.canTarget(e))return e},olderShadow:function(t){var e=t.olderShadowRoot;if(!e){var n=t.querySelector("shadow");n&&(e=n.olderShadowRoot)}return e},allShadows:function(t){for(var e=[],n=this.shadow(t);n;)e.push(n),n=this.olderShadow(n);return e},searchRoot:function(t,e,n){if(t){var r,i,o=t.elementFromPoint(e,n);for(i=this.targetingShadow(o);i;){if(r=i.elementFromPoint(e,n)){var a=this.targetingShadow(r);return this.searchRoot(a,e,n)||r}i=this.olderShadow(i)}return o}},owner:function(t){for(var e=t;e.parentNode;)e=e.parentNode;return e.nodeType!==Node.DOCUMENT_NODE&&e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(e=document),e},findTarget:function(t){var e=t.clientX,n=t.clientY,r=this.owner(t.target);return r.elementFromPoint(e,n)||(r=document),this.searchRoot(r,e,n)}},h=Array.prototype.forEach.call.bind(Array.prototype.forEach),f=Array.prototype.map.call.bind(Array.prototype.map),p=Array.prototype.slice.call.bind(Array.prototype.slice),v=Array.prototype.filter.call.bind(Array.prototype.filter),d=window.MutationObserver||window.WebKitMutationObserver,m={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};function b(t,e,n,r){this.addCallback=t.bind(r),this.removeCallback=e.bind(r),this.changedCallback=n.bind(r),d&&(this.observer=new d(this.mutationWatcher.bind(this)))}function y(t){return"body /shadow-deep/ "+g(t)}function g(t){return'[touch-action="'+t+'"]'}function P(t){return"{ -ms-touch-action: "+t+"; touch-action: "+t+"; }"}b.prototype={watchSubtree:function(t){this.observer&&l.canTarget(t)&&this.observer.observe(t,m)},enableOnSubtree:function(t){this.watchSubtree(t),t===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(t)},installNewSubtree:function(t){h(this.findElements(t),this.addElement,this)},findElements:function(t){return t.querySelectorAll?t.querySelectorAll("[touch-action]"):[]},removeElement:function(t){this.removeCallback(t)},addElement:function(t){this.addCallback(t)},elementChanged:function(t,e){this.changedCallback(t,e)},concatLists:function(t,e){return t.concat(p(e))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(t){return t.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(t){var e=f(t,this.findElements,this);return e.push(v(t,this.isElement)),e.reduce(this.concatLists,[])},mutationWatcher:function(t){t.forEach(this.mutationHandler,this)},mutationHandler:function(t){if("childList"===t.type){var e=this.flattenMutationTree(t.addedNodes);e.forEach(this.addElement,this);var n=this.flattenMutationTree(t.removedNodes);n.forEach(this.removeElement,this)}else"attributes"===t.type&&this.elementChanged(t.target,t.oldValue)}};var E=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],w="",T=window.PointerEvent||window.MSPointerEvent,O=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,S=s.pointermap,M=[1,4,2,8,16],I=!1;try{I=1===new MouseEvent("test",{buttons:1}).buttons}catch(t){}var k,C={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(t){s.listen(t,this.events)},unregister:function(t){s.unlisten(t,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(t){for(var e,n=this.lastTouches,r=t.clientX,i=t.clientY,o=0,a=n.length;o<a&&(e=n[o]);o++){var u=Math.abs(r-e.x),c=Math.abs(i-e.y);if(u<=25&&c<=25)return!0}},prepareEvent:function(t){var e=s.cloneEvent(t),n=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),n()},e.pointerId=this.POINTER_ID,e.isPrimary=!0,e.pointerType=this.POINTER_TYPE,e},prepareButtonsForMove:function(t,e){var n=S.get(this.POINTER_ID);0!==e.which&&n?t.buttons=n.buttons:t.buttons=0,e.buttons=t.buttons},mousedown:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=S.get(this.POINTER_ID),n=this.prepareEvent(t);I||(n.buttons=M[n.button],e&&(n.buttons|=e.buttons),t.buttons=n.buttons),S.set(this.POINTER_ID,t),e&&0!==e.buttons?s.move(n):s.down(n)}},mousemove:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);I||this.prepareButtonsForMove(e,t),e.button=-1,S.set(this.POINTER_ID,t),s.move(e)}},mouseup:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=S.get(this.POINTER_ID),n=this.prepareEvent(t);if(!I){var r=M[n.button];n.buttons=e?e.buttons&~r:0,t.buttons=n.buttons}S.set(this.POINTER_ID,t),n.buttons&=~M[n.button],0===n.buttons?s.up(n):s.move(n)}},mouseover:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);I||this.prepareButtonsForMove(e,t),e.button=-1,S.set(this.POINTER_ID,t),s.enterOver(e)}},mouseout:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);I||this.prepareButtonsForMove(e,t),e.button=-1,s.leaveOut(e)}},cancel:function(t){var e=this.prepareEvent(t);s.cancel(e),this.deactivateMouse()},deactivateMouse:function(){S.delete(this.POINTER_ID)}},R=s.captureInfo,j=l.findTarget.bind(l),L=l.allShadows.bind(l),x=s.pointermap,_={events:["touchstart","touchmove","touchend","touchcancel"],register:function(t){k.enableOnSubtree(t)},unregister:function(){},elementAdded:function(t){var e=t.getAttribute("touch-action"),n=this.touchActionToScrollType(e);n&&(t._scrollType=n,s.listen(t,this.events),L(t).forEach(function(t){t._scrollType=n,s.listen(t,this.events)},this))},elementRemoved:function(t){t._scrollType=void 0,s.unlisten(t,this.events),L(t).forEach(function(t){t._scrollType=void 0,s.unlisten(t,this.events)},this)},elementChanged:function(t,e){var n=t.getAttribute("touch-action"),r=this.touchActionToScrollType(n),i=this.touchActionToScrollType(e);r&&i?(t._scrollType=r,L(t).forEach(function(t){t._scrollType=r},this)):i?this.elementRemoved(t):r&&this.elementAdded(t)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(t){var e=t,n=this.scrollTypes;return"none"===e?"none":e===n.XSCROLLER?"X":e===n.YSCROLLER?"Y":n.SCROLLER.exec(e)?"XY":void 0},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(t){return this.firstTouch===t.identifier},setPrimaryTouch:function(t){(0===x.size||1===x.size&&x.has(1))&&(this.firstTouch=t.identifier,this.firstXY={X:t.clientX,Y:t.clientY},this.scrolling=!1,this.cancelResetClickCount())},removePrimaryPointer:function(t){t.isPrimary&&(this.firstTouch=null,this.firstXY=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var t=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(t,200)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(t){var e=0;return"touchstart"!==t&&"touchmove"!==t||(e=1),e},touchToPointer:function(t){var e=this.currentTouchEvent,n=s.cloneEvent(t),r=n.pointerId=t.identifier+2;n.target=R[r]||j(n),n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount,n.button=0,n.buttons=this.typeToButtons(e.type),n.width=2*(t.radiusX||t.webkitRadiusX||0),n.height=2*(t.radiusY||t.webkitRadiusY||0),n.pressure=t.force||t.webkitForce||.5,n.isPrimary=this.isPrimaryTouch(t),n.pointerType=this.POINTER_TYPE,n.altKey=e.altKey,n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.shiftKey=e.shiftKey;var i=this;return n.preventDefault=function(){i.scrolling=!1,i.firstXY=null,e.preventDefault()},n},processTouches:function(t,e){var n=t.changedTouches;this.currentTouchEvent=t;for(var r,i=0;i<n.length;i++)r=n[i],e.call(this,this.touchToPointer(r))},shouldScroll:function(t){if(this.firstXY){var e,n=t.currentTarget._scrollType;if("none"===n)e=!1;else if("XY"===n)e=!0;else{var r=t.changedTouches[0],i=n,o="Y"===n?"X":"Y",a=Math.abs(r["client"+i]-this.firstXY[i]),u=Math.abs(r["client"+o]-this.firstXY[o]);e=a>=u}return this.firstXY=null,e}},findTouch:function(t,e){for(var n,r=0,i=t.length;r<i&&(n=t[r]);r++)if(n.identifier===e)return!0},vacuumTouches:function(t){var e=t.touches;if(x.size>=e.length){var n=[];x.forEach(function(t,r){if(1!==r&&!this.findTouch(e,r-2)){var i=t.out;n.push(i)}},this),n.forEach(this.cancelOut,this)}},touchstart:function(t){this.vacuumTouches(t),this.setPrimaryTouch(t.changedTouches[0]),this.dedupSynthMouse(t),this.scrolling||(this.clickCount++,this.processTouches(t,this.overDown))},overDown:function(t){x.set(t.pointerId,{target:t.target,out:t,outTarget:t.target}),s.enterOver(t),s.down(t)},touchmove:function(t){this.scrolling||(this.shouldScroll(t)?(this.scrolling=!0,this.touchcancel(t)):(t.preventDefault(),this.processTouches(t,this.moveOverOut)))},moveOverOut:function(t){var e=t,n=x.get(e.pointerId);if(n){var r=n.out,i=n.outTarget;s.move(e),r&&i!==e.target&&(r.relatedTarget=e.target,e.relatedTarget=i,r.target=i,e.target?(s.leaveOut(r),s.enterOver(e)):(e.target=i,e.relatedTarget=null,this.cancelOut(e))),n.out=e,n.outTarget=e.target}},touchend:function(t){this.dedupSynthMouse(t),this.processTouches(t,this.upOut)},upOut:function(t){this.scrolling||(s.up(t),s.leaveOut(t)),this.cleanUpPointer(t)},touchcancel:function(t){this.processTouches(t,this.cancelOut)},cancelOut:function(t){s.cancel(t),s.leaveOut(t),this.cleanUpPointer(t)},cleanUpPointer:function(t){x.delete(t.pointerId),this.removePrimaryPointer(t)},dedupSynthMouse:function(t){var e=C.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch(n)){var r={x:n.clientX,y:n.clientY};e.push(r);var i=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}.bind(null,e,r);setTimeout(i,2500)}}};k=new b(_.elementAdded,_.elementRemoved,_.elementChanged,_);var D,A,Y,X=s.pointermap,N=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,U={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(t){s.listen(t,this.events)},unregister:function(t){s.unlisten(t,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(t){var e=t;return N&&((e=s.cloneEvent(t)).pointerType=this.POINTER_TYPES[t.pointerType]),e},cleanup:function(t){X.delete(t)},MSPointerDown:function(t){X.set(t.pointerId,t);var e=this.prepareEvent(t);s.down(e)},MSPointerMove:function(t){var e=this.prepareEvent(t);s.move(e)},MSPointerUp:function(t){var e=this.prepareEvent(t);s.up(e),this.cleanup(t.pointerId)},MSPointerOut:function(t){var e=this.prepareEvent(t);s.leaveOut(e)},MSPointerOver:function(t){var e=this.prepareEvent(t);s.enterOver(e)},MSPointerCancel:function(t){var e=this.prepareEvent(t);s.cancel(e),this.cleanup(t.pointerId)},MSLostPointerCapture:function(t){var e=s.makeEvent("lostpointercapture",t);s.dispatchEvent(e)},MSGotPointerCapture:function(t){var e=s.makeEvent("gotpointercapture",t);s.dispatchEvent(e)}};function F(t){if(!s.pointermap.has(t)){var e=new Error("InvalidPointerId");throw e.name="InvalidPointerId",e}}function K(t){for(var e=t.parentNode;e&&e!==t.ownerDocument;)e=e.parentNode;if(!e){var n=new Error("InvalidStateError");throw n.name="InvalidStateError",n}}function q(t){var e=s.pointermap.get(t);return 0!==e.buttons}return window.navigator.msPointerEnabled?(D=function(t){F(t),K(this),q(t)&&(s.setCapture(t,this,!0),this.msSetPointerCapture(t))},A=function(t){F(t),s.releaseCapture(t,!0),this.msReleasePointerCapture(t)}):(D=function(t){F(t),K(this),q(t)&&s.setCapture(t,this)},A=function(t){F(t),s.releaseCapture(t)}),Y=function(t){return!!s.captureInfo[t]},function(){if(T){E.forEach(function(t){String(t)===t?(w+=g(t)+P(t)+"\n",O&&(w+=y(t)+P(t)+"\n")):(w+=t.selectors.map(g)+P(t.rule)+"\n",O&&(w+=t.selectors.map(y)+P(t.rule)+"\n"))});var t=document.createElement("style");t.textContent=w,document.head.appendChild(t)}}(),function(){if(!window.PointerEvent){if(window.PointerEvent=n,window.navigator.msPointerEnabled){var t=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:t,enumerable:!0}),s.registerSource("ms",U)}else Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),s.registerSource("mouse",C),void 0!==window.ontouchstart&&s.registerSource("touch",_);s.register(document)}}(),window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:D},releasePointerCapture:{value:A},hasPointerCapture:{value:Y}}),{dispatcher:s,Installer:b,PointerEvent:n,PointerMap:r,targetFinding:l}}()},function(t,e,n){"use strict";n.r(e);n(1);var r=n(0);function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){o(t,e,n[e])})}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a={lastPosition:{x:0,y:0},gesturePosition:{x:0,y:0}},u={dragStart:function(t,e){return i({},t,{gesturePosition:{x:e.x,y:e.y}})},dragStop:function(t){return i({},t,{gesturePosition:a.gesturePosition})},drag:function(t,e){var n=e.newPosition,r=e.event,i=r.x,o=r.y;return{lastPosition:{x:n.x,y:n.y},gesturePosition:{x:i,y:o}}}};function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){s(t,e,n[e])})}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l={prevDiff:-1,currentScale:1},h={pinchStop:function(t){return c({},t,{prevDiff:l.prevDiff})},pinch:function(t,e){return c({},t,{prevDiff:e.diff,currentScale:e.scale})}};function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){p(t,e,n[e])})}return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v={prevAngle:0},d={rotateStop:function(t){return f({},t,{prevAngle:v.prevAngle})},rotate:function(t,e){return f({},t,{prevAngle:e})}};function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b={fieldChange:function(t,e){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){m(t,e,n[e])})}return t}({},t,m({},e.field,e.value))}},y={drag:Object(r.createReducer)(u,a),pinch:Object(r.createReducer)(h,l),rotate:Object(r.createReducer)(d,v),view:Object(r.createReducer)(b,{x:0,scale:1,angleDistance:0}),pointers:Object(r.createReducer)({pointerAdd:function(t,e){return t.concat(e)},pointerRemove:function(t,e){return t.filter(function(t){return t.pointerId!==e})},pointerUpdate:function(t,e){return t.map(function(t){return t.pointerId===e.pointerId?e:t})}},[])},g=Object(r.combineReducers)(y),P=Object(r.createStore)(g),E=P.dispatch,w=P.getState,T=P.subscribe,O=Object(r.createActions)(["pointerAdd","pointerRemove","pointerUpdate"]);function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var M=function(){function t(e){var n=e.node,r=e.events;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.node=n,this.pointers=w().pointers,this.events=r,this.removePointer=function(t){return E(O.pointerRemove(t.pointerId))},this.addPointer=function(t){return E(O.pointerAdd(t))},this.updatePointer=function(t){return E(O.pointerUpdate(t))},this.hasPointerLock=function(){return"pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document},this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerCancel=this.onPointerCancel.bind(this),document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,this.node.requestPointerLock=this.node.requestPointerLock||this.node.mozRequestPointerLock||this.node.webkitRequestPointerLock}return function(t,e,n){e&&S(t.prototype,e),n&&S(t,n)}(t,[{key:"isLocked",value:function(){return this.node===document.pointerLockElement||this.node===document.mozPointerLockElement||this.node===document.webkitPointerLockElement}},{key:"init",value:function(){var t=this;this.subscribeEvents(),T(function(e){t.pointers=e.pointers})}},{key:"subscribeEvents",value:function(){var t=this.node;t.addEventListener("pointerdown",this.onPointerDown),t.addEventListener("pointermove",this.onPointerMove),t.addEventListener("pointerup",this.onPointerUp),t.addEventListener("pointercancel",this.onPointerCancel)}},{key:"onPointerUp",value:function(t){this.hasPointerLock()||this.removePointer(t),this.events.onPointerUp(t,this.pointers)}},{key:"onPointerCancel",value:function(t){this.hasPointerLock()||this.removePointer(t),this.events.onPointerCancel(t,this.pointers)}},{key:"onPointerDown",value:function(t){this.addPointer(t),this.isLocked()?(document.exitPointerLock(),this.hasPointerLock()&&this.removePointer(t)):this.node.requestPointerLock(),this.events.onPointerDown(t,this.pointers)}},{key:"onPointerMove",value:function(t){this.updatePointer(t),this.events.onPointerMove(t,this.pointers)}}]),t}(),I=Object(r.createActions)(["pinchStop","pinch"]),k=Object(r.createActions)(["rotateStop","rotate"]),C=Object(r.createActions)(["dragStart","dragStop","drag"]),R=Object(r.createActions)(["fieldChange"]);function j(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var L=20,x=4,_=1;function D(t){var e=j(t,2),n=e[0],r=e[1];return Math.abs(function(t,e,n,r){return Math.hypot(e-t,r-n)}(n.clientX,r.clientX,n.clientY,r.clientY))}function A(t){var e=t.pinchInfo,n=t.currentDiff,r=e.currentScale,i=e.prevDiff;return i>0&&Math.abs(n-i)<L?function(t,e,n,r){var i=t*e;return Math.min(n,Math.max(i,r))}(r,n/i,x,_):r}var Y=180,X=90;function N(t){var e=t.pointers,n=function(t,e,n,r){return{x:(t+e)/2,y:(n+r)/2}}(e[0].clientX,e[1].clientX,e[0].clientY,e[1].clientY),r=function(t){return t.sort(function(t,e){return e.x-t.x})[0]}(e);return function(t,e,n,r){return 180*Math.atan2(r-e,n-t)/Math.PI}(n.x,n.y,r.x,r.y)}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var F=function(){function t(e){var n=e.onMove;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onMove=n,this.state=w(),this.onPointerMove=this.onPointerMove.bind(this)}return function(t,e,n){e&&U(t.prototype,e),n&&U(t,n)}(t,[{key:"init",value:function(){var t=this;T(function(e){t.onMove(e.view),t.state=e})}},{key:"onPointerUp",value:function(){E(C.dragStop()),E(I.pinchStop()),E(k.rotateStop())}},{key:"onPointerCancel",value:function(){E(I.pinchStop()),E(k.rotateStop())}},{key:"onPointerDown",value:function(t){E(C.dragStart({x:t.x,y:t.y}))}},{key:"onPointerMove",value:function(t,e){var n=this.state,r=n.pinch,i=n.rotate,o=n.drag,a=n.view;if(2===e.length){var u=D(e),c=A({pinchInfo:r,currentDiff:u});E(I.pinch({scale:c,diff:u})),E(R.fieldChange({field:"scale",value:c}));var s=i.prevAngle,l=N({pointers:e});if(0===s)return void E(k.rotate(l));var h=function(t){var e=t.prevAngle-t.angle;return e>X?e-=Y:e<-X&&(e+=Y),e}({prevAngle:s,angle:l});E(k.rotate(l)),E(R.fieldChange({field:"angleDistance",value:h}))}if(1===e.length){var f=function(t){var e=t.dragInfo,n=t.event,r=t.scale,i=e.gesturePosition,o=e.lastPosition,a=function(t,e){var n=t.x,r=t.y,i=0===e.x?n:e.x,o=0===e.y?r:e.y;return{movementX:t.movementX||t.mozMovementX||t.webkitMovementX||n-i,movementY:t.movementY||t.mozMovementY||t.webkitMovementY||r-o}}(n,i),u=a.movementX/r,c=a.movementY/r;return{x:o.x+u,y:o.y+c}}({scale:a.scale,dragInfo:o,event:t});E(C.drag({newPosition:f,event:t})),E(R.fieldChange({field:"x",value:f.x}))}}}]),t}(),K=".view-info__preview",q=".view-info__indicator",z=".view-info__field--scale .view-info__value",H=".view-info__field--brightness .view-info__value",B=document.querySelector(".panorama-viewer__image");B.setAttribute("touch-action","none");var V=1,G=0,W=null,Z=function(t){var e=t.x,n=t.scale,r=t.angleDistance,i=V;G!==r&&(i+=-r/180*2,i=Math.min(2,Math.max(i,0)),V=i),G=r,B.style.filter="brightness(".concat(100*i,"%)"),B.style.backgroundPosition="".concat(e,"px 100%"),B.style.transform="scale(".concat(n,")"),function(t,e){var n=t.x,r=t.scale,i=e.brightnessValue,o=e.image,a=document.documentElement,u=a.clientWidth,c=a.offsetHeight,s=window.devicePixelRatio,l=o.width/s,h=c/(o.height/s),f=document.querySelector(K),p=document.querySelector(q),v=f.clientWidth,d=u/l/h,m=d/r*v,b=-v/(l*h)*n+(d*v-d*v/r)/2;p.style.backgroundImage="repeating-linear-gradient(\n    to right,\n    transparent,\n    transparent ".concat(m,"px,\n    rgba(0,0,0, 0.5) ").concat(m,"px,\n    rgba(0,0,0, 0.5) 100%)"),p.style.backgroundPosition="".concat(b,"px 100%"),document.querySelector(z).innerHTML="".concat(Math.round(100*r),"%"),document.querySelector(H).innerHTML="".concat(Math.round(100*i),"%")}(t,{brightnessValue:i,image:W})},$=new F({onMove:function(t){return Z(t)}});$.init();var J=new M({node:B,events:{onPointerCancel:$.onPointerCancel,onPointerUp:$.onPointerUp,onPointerDown:$.onPointerDown,onPointerMove:$.onPointerMove}});new Promise(function(t,e){var n=new Image;n.src="images/panorama.jpg",n.onload=function(){return t(n)},n.onerror=e}).then(function(t){W=t,J.init()})}]);